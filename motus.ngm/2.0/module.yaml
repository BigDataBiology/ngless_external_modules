version: 2.0.0
name: motus
functions:
    -
        nglName: motus
        arg0: ./run.sh

        arg1: 
            atype: readset
            can_gzip: true
        additional:
            -
                name: sample
                atype: str
                required: true
            -
                name: specI_only
                atype: flag
                when-true: '--speci_only'
            -
                name: relative_abundance
                atype: flag
                when-true: '--rel_abund'
            -
                name: taxonomic_level
                atype: option
                def: mOTU
                allowed:
                    - kingdom
                    - phylum
                    - class
                    - order
                    - family
                    - genus
                    - mOTU
        return:
            rtype: counts
            name: ofile
            extension: tsv
init:
    init_cmd: ./run.sh

citation: >
    At the time of writing mOTUs-v2 isn't published yet. Meanwhile please cite
    Metagenomic species profiling using universal phylogenetic marker genes by
    Shinichi Sunagawa, Daniel R Mende, Georg Zeller, Fernando
    Izquierdo-Carrasco, Simon A Berger, Jens Roat Kultima, Luis Pedro Coelho,
    Manimozhiyan Arumugam, Julien Tap, Henrik Bjørn Nielsen, Simon Rasmussen,
    Søren Brunak, Oluf Pedersen, Francisco Guarner, Willem M de Vos, Jun Wang,
    Junhua Li, Joël Doré, S Dusko Ehrlich, Alexandros Stamatakis, and Peer Bork
    Nature Methods 10, 1196-1199 (2013) doi:10.1038/nmeth.2693

